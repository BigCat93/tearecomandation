{% extends "base.html" %}

{% block content %}
<div class="row">
    <div class="col-md-12 mb-4">
        <h2 class="text-center">个性化茶饮推荐问卷</h2>
        <p class="lead text-center">请花1分钟时间完成以下问题，我们将为您推荐最适合的茶饮</p>
    </div>
</div>

<div class="row justify-content-center">
    <div class="col-md-8">
        <form id="recommendationForm" class="needs-validation" novalidate>
            <div class="card mb-4">
                <div class="card-body">
                    <h5 class="card-title">基本信息</h5>
                    
                    <div class="mb-3">
                        <label for="age" class="form-label">年龄段</label>
                        <select class="form-select" id="age" required>
                            <option value="">请选择</option>
                            <option value="1">18岁以下</option>
                            <option value="2">18-30岁</option>
                            <option value="3">31-45岁</option>
                            <option value="4">46-60岁</option>
                            <option value="5">60岁以上</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">性别</label>
                        <div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="gender" id="male" value="1" required>
                                <label class="form-check-label" for="male">男</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="gender" id="female" value="2" required>
                                <label class="form-check-label" for="female">女</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card mb-4">
                <div class="card-body">
                    <h5 class="card-title">健康状况</h5>
                    
                    <div class="mb-3">
                        <label for="sleep_quality" class="form-label">睡眠质量</label>
                        <select class="form-select" id="sleep_quality" required>
                            <option value="">请选择</option>
                            <option value="1">很好</option>
                            <option value="2">一般</option>
                            <option value="3">较差</option>
                            <option value="4">失眠</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label for="digestion" class="form-label">消化状况</label>
                        <select class="form-select" id="digestion" required>
                            <option value="">请选择</option>
                            <option value="1">很好</option>
                            <option value="2">一般</option>
                            <option value="3">较差</option>
                            <option value="4">经常不适</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label for="energy_level" class="form-label">精力状态</label>
                        <select class="form-select" id="energy_level" required>
                            <option value="">请选择</option>
                            <option value="1">充沛</option>
                            <option value="2">一般</option>
                            <option value="3">容易疲劳</option>
                            <option value="4">总是疲惫</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label for="stress_level" class="form-label">压力水平</label>
                        <select class="form-select" id="stress_level" required>
                            <option value="">请选择</option>
                            <option value="1">轻松</option>
                            <option value="2">一般</option>
                            <option value="3">较大</option>
                            <option value="4">很大</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="card mb-4">
                <div class="card-body">
                    <h5 class="card-title">生活习惯</h5>
                    
                    <div class="mb-3">
                        <label for="exercise_frequency" class="form-label">运动频率</label>
                        <select class="form-select" id="exercise_frequency" required>
                            <option value="">请选择</option>
                            <option value="1">每天</option>
                            <option value="2">每周3-4次</option>
                            <option value="3">偶尔</option>
                            <option value="4">几乎不运动</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label for="diet_habit" class="form-label">饮食习惯</label>
                        <select class="form-select" id="diet_habit" required>
                            <option value="">请选择</option>
                            <option value="1">规律健康</option>
                            <option value="2">一般</option>
                            <option value="3">不太规律</option>
                            <option value="4">很不规律</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="text-center mb-4">
                <button type="submit" class="btn btn-primary btn-lg">获取推荐</button>
            </div>
        </form>
    </div>
</div>

<div class="modal fade" id="recommendationModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">您的个性化茶饮推荐</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div id="recommendationResult"></div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">关闭</button>
            </div>
        </div>
    </div>
</div>
{% endblock %} 